import type { RouterState } from '../state';
import type { MainRouterAction } from './main';
import type { PointRouterAction } from './point';

export type RouterAction =
  | ReturnType<typeof linkAction>
  | ReturnType<typeof reloadStateAction>
  | MainRouterAction
  | PointRouterAction;

export const LINK_TYPE = Symbol('link');
export const RELOAD_STATE_TYPE = Symbol('reload-state');

export function linkAction(href: string | URL) {
  const url = typeof href === 'string' ? new URL(href) : href;
  return { type: LINK_TYPE, url } as const;
}

export function reloadStateAction(state: RouterState) {
  return { type: RELOAD_STATE_TYPE, state } as const;
}
